<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta content="ie=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=Content-Type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><title>Oracle笔记——PL/SQL空值语句、游标 | Sky</title><meta content="SQL, Oracle" name=keywords><meta content=PL/SQL空值语句、游标一、IF语句1、IF-THEN-ENDIF形式IF条件then语句集;ENDIF;2、IF-THEN-ELSE-ENDIF形式IF条件then语句集1;ElSE语句集2ENDIF;3．IF-THEN-ELSIF-ELSE-ENDIF形式IF条件1THEN语句集1;ELSIF name=description><meta content="telephone=no, email=no, date=no, address=no" name=format-detection><meta content=Oracle笔记——PL/SQL空值语句、游标 name=title><meta content=https://xiaofangwei.cn name=site><meta content=Sky name=author><meta content="Astro v5.11.0" name=generator><meta content="index, follow, max-image-preview:large" name=robots><meta content=https://xiaofangwei.cn/assets/images/banner/ffb19a0b01ca0be1.png itemprop=image><meta content=Sky property=article:author><meta content=article property=og:type><meta content=Sky property=og:site_name><meta content=Oracle笔记——PL/SQL空值语句、游标 property=og:title><meta content=PL/SQL空值语句、游标一、IF语句1、IF-THEN-ENDIF形式IF条件then语句集;ENDIF;2、IF-THEN-ELSE-ENDIF形式IF条件then语句集1;ElSE语句集2ENDIF;3．IF-THEN-ELSIF-ELSE-ENDIF形式IF条件1THEN语句集1;ELSIF property=og:description><meta content=https://xiaofangwei.cn/article/Oracle%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94PL/SQL%E7%A9%BA%E5%80%BC%E8%AF%AD%E5%8F%A5-%E6%B8%B8%E6%A0%87 property=og:url><meta content=https://xiaofangwei.cn/assets/images/banner/ffb19a0b01ca0be1.png property=og:image><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=Sky name=twitter:site><meta content=Sky name=twitter:creator><meta content=Oracle笔记——PL/SQL空值语句、游标 name=twitter:title><meta content=PL/SQL空值语句、游标一、IF语句1、IF-THEN-ENDIF形式IF条件then语句集;ENDIF;2、IF-THEN-ELSE-ENDIF形式IF条件then语句集1;ElSE语句集2ENDIF;3．IF-THEN-ELSIF-ELSE-ENDIF形式IF条件1THEN语句集1;ELSIF name=twitter:description><meta content=https://xiaofangwei.cn/article/Oracle%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94PL/SQL%E7%A9%BA%E5%80%BC%E8%AF%AD%E5%8F%A5-%E6%B8%B8%E6%A0%87 name=twitter:url><meta content=https://xiaofangwei.cn/assets/images/banner/ffb19a0b01ca0be1.png name=twitter:image><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://xiaofangwei.cn/article/Oracle%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94PL/SQL%E7%A9%BA%E5%80%BC%E8%AF%AD%E5%8F%A5-%E6%B8%B8%E6%A0%87"},"headline":"Oracle笔记——PL/SQL空值语句、游标","description":"PL/SQL空值语句、游标一、IF语句1、IF-THEN-ENDIF形式IF条件then语句集;ENDIF;2、IF-THEN-ELSE-ENDIF形式IF条件then语句集1;ElSE语句集2ENDIF;3．IF-THEN-ELSIF-ELSE-ENDIF形式IF条件1THEN语句集1;ELSIF","image":["https://xiaofangwei.cn/assets/images/banner/ffb19a0b01ca0be1.png"],"datePublished":"2025-07-13T13:26:07.967+08:00","dateModified":"2025-07-13T13:26:07.967+08:00","author":{"@type":"Person","name":"Sky","url":"https://xiaofangwei.cn"},"publisher":{"@type":"Organization","name":"Sky","logo":{"@type":"ImageObject","url":"https://xiaofangwei.cn/assets/images/banner/072c12ec85d2d3b5.webp"}},"keywords":"SQL, Oracle"}</script><link href=/sitemap-index.xml rel=sitemap><link href=https://i0.wp.com rel=dns-prefetch><link href=https://cn.cravatar.com rel=dns-prefetch><link href=https://analytics.vvhan.com rel=dns-prefetch><link href=https://vh-api.4ce.cn rel=dns-prefetch><link href=https://registry.npmmirror.com rel=dns-prefetch><link href=https://pagead2.googlesyndication.com rel=dns-prefetch><link href=https://i0.wp.com rel=preconnect><link href=https://cn.cravatar.com rel=preconnect><link href=https://analytics.vvhan.com rel=preconnect><link href=https://vh-api.4ce.cn rel=preconnect><link href=https://registry.npmmirror.com rel=preconnect><link href=https://pagead2.googlesyndication.com rel=preconnect><link href=https://xiaofangwei.cn/article/Oracle%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94PL/SQL%E7%A9%BA%E5%80%BC%E8%AF%AD%E5%8F%A5-%E6%B8%B8%E6%A0%87 rel=canonical><link href=/favicon.ico rel=icon type=image/x-icon><script src=/assets/js/vhCaiqi.js defer=defer></script><style>:root{--vh-main-color:#01C4B6;--vh-font-color:#34495e;--vh-aside-width:318px;--vh-main-radius:0.88rem;--vh-main-max-width:1458px;--vh-main-header-height:28.88rem;--vh-home-banner:url('/assets/images/home-banner.webp') no-repeat center 60%/cover}</style><link href=/vh_static/Layout.BgcwVM7v.css rel=stylesheet><link href=/vh_static/_article_.C03juFXS.css rel=stylesheet><link href=/vh_static/index.B2HXulq7.css rel=stylesheet><link href=/vh_static/index.BpaeWw8X.css rel=stylesheet><link href=/vh_static/index.BPyknviE.css rel=stylesheet><script src=/vh_static/page.CczVlEZL.js type=module></script></head><body><nav class=vh-mobilesidebar><section class=main><div class="vh-mobilesidebar-list user-panel"><h3>Sky</h3></div><div class="vh-mobilesidebar-list vh-link-list"><a href=/archives target=_self class=archives><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"/><path d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1"/><path d="M11 7h5"/><path d="M11 10h6"/><path d="M11 13h3"/></svg> 归档 </a><a href=/about target=_self class=about><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 1 0 -4 0"/><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"/></svg> 关于</a></div></section></nav><header class=vh-header><section class=main><a href=/ class="vh-hover home"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=3><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M19 8.71l-5.333 -4.148a2.666 2.666 0 0 0 -3.274 0l-5.334 4.148a2.665 2.665 0 0 0 -1.029 2.105v7.2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-7.2c0 -.823 -.38 -1.6 -1.03 -2.105"></path><path d="M16 15c-2.21 1.333 -5.792 1.333 -8 0"></path></svg> <span>Home</span></a><nav><a href=/archives target=_self class="vh-hover nav-link">归档 <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"/><path d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1"/><path d="M11 7h5"/><path d="M11 10h6"/><path d="M11 13h3"/></svg> </a><a href=/about target=_self class="vh-hover nav-link">关于 <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 1 0 -4 0"/><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"/></svg> </a><span class="vh-hover nav-link search-btn"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg> 搜索</span> <span class="vh-hover nav-link menu-btn"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M4 6h16"></path><path d="M7 12h13"></path><path d="M10 18h10"></path></svg></span></nav><section class=vh-search><main><div class=search-input><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" fill=#B4B4B4></path></svg> <input placeholder=搜索文章 type=text></div><section class=vh-search-list><em></em></section></main></section></section></header><main class=main><div class=header-main><div class=avatar><img alt=avatar src=/assets/images/lazy-loading.webp data-vh-lz-src=/assets/images/avatar.png></div><h3 class=auther>Sky</h3></div><section class=main-inner style=padding-top:.88rem><section class=main-inner-content><article class="vh-animation vh-animation-init vh-article-main"><header><h1>Oracle笔记——PL/SQL空值语句、游标</h1><div class=article-meta><span class=article-meta-item><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M12 12h3.5"></path><path d="M12 7v5"></path></svg> <time>2017-12-05 晚上</time> <span class=count><strong>一点</strong>字</span> <span class=time><strong>0</strong>分钟</span> </span><a href=/categories/SQL class=article-meta-item><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M4 6h16"></path><path d="M7 12h13"></path><path d="M10 18h10"></path></svg> <span>SQL</span></a></div></header><main><h1 id=plsql空值语句游标>PL/SQL空值语句、游标</h1><h2 id=一if语句>一、IF语句</h2><h3 id=1if-then-end-if形式>1、IF-THEN-END IF形式</h3><pre>   IF 条件 then 
       语句集;
   END IF;
</pre><h3 id=2if-then-else-end-if形式>2、IF-THEN-ELSE-END IF形式</h3><pre>   IF 条件 then 
       语句集1;
   ElSE
       语句集2
   END IF;
</pre><h3 id=3if-then-elsif-else-end-if形式>3．IF-THEN-ELSIF-ELSE-END IF形式</h3><pre>   IF 条件1 THEN
	语句集1;
   ELSIF 条件2 THEN
	语句集2;
   ELSIF 条件3 THEN
	语句集3;
   ...
   ELSE
	语句集n;
   END IF;
</pre><p>##二、CASE语句</p><h3 id=1基本case结构>1．基本CASE结构</h3><pre>   CASE 变量或表达式
   When 值1 then 结果1;
   When 值2 then 结果2;
   When 值3 then 结果3;
   ...
   ELSE 结果n;
   END CASE;
</pre><h3 id=2搜索case结构>2.搜索CASE结构</h3><pre>  CASE 
   When 条件1 then 结果1;
   When 条件2 then 结果2;
   When 条件3 then 结果3;
   ...
   ELSE 结果n;
   END CASE;
</pre><h2 id=三循环>三、循环</h2><h3 id=1基本loop循环>1．基本LOOP循环</h3><pre>   loop
      语句集;
   exit when 条件
      语句集;
   end loop;
</pre><h3 id=2for-loop循环>2.FOR LOOP循环</h3><p>FOR循环是固定次数循环，格式如下：</p><pre>	
FOR 控制变量 in [REVERSE] 下限..上限 		
LOOP  		 
	语句集;  		
END LOOP;
</pre><p><em>注：循环控制变量是隐含定义的，不需要声明。</em> ​ <strong>下限和上限用于指明循环次数。正常情况下循环控制变量的取值由下限到上限递增，REVERSE关键字表示循环控制变量的取值由上限到下限递减。</strong></p><h2 id=3while-loop循环>3．WHILE LOOP循环</h2><pre>   while 条件 loop
       语句集;
   end loop;
</pre><h2 id=四游标>四、游标</h2><h3 id=1概念>1、概念</h3><p><strong>游标是SQL的一个内存工作区，由系统或用户以变量的形式定义。游标的作用就是用于临时存储从数据库中提取的数据块。在某些情况下，需要把数据从存放在磁盘的表中调到计算机内存中进行处理，最后将处理结果显示出来或最终写回数据库。这样数据处理的速度才会提高，否则频繁的磁盘数据交换会降低效率。</strong></p><p>游标有两种类型：显式游标和隐式游标。</p><p>在前述程序中用到的SELECT…INTO…查询语句，一次只能从数据库中提取一行数据，系统都会使用一个隐式游标。</p><p>显式游标对应一个返回结果为多行多列的SELECT语句。</p><p>游标一旦打开，数据就从数据库中传送到游标变量中，然后应用程序再从游标变量中分解出需要的数据，并进行处理。</p><h3 id=2隐式游标属性>2、隐式游标属性</h3><table><thead><tr><th>隐式游标的属性</th><th>返回值类型</th><th>意义</th></tr></thead><tbody><tr><td>SQL%ROWCOUNT</td><td>整型</td><td>代表DML语句成功执行的数据行数</td></tr><tr><td>SQL%FOUND</td><td>布尔型</td><td>值为TRUE代表插入、删除、更新或单行查询操作成功</td></tr><tr><td>SQL%NOTFOUND</td><td>布尔型</td><td>与SQL%FOUND属性返回值相反</td></tr><tr><td>SQL%ISOPEN</td><td>布尔型</td><td>DML执行过程中为真，结束后为假</td></tr></tbody></table><p>如：使用隐式游标的属性，判断对雇员工资的修改是否成功。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON 		</span></span>
<span class=line><span>BEGIN  		</span></span>
<span class=line><span>UPDATE emp SET sal=sal+100 WHERE empno=1234;		 </span></span>
<span class=line><span>IF SQL%FOUND THEN  		</span></span>
<span class=line><span>DBMS_OUTPUT.PUT_LINE('成功修改雇员工资！');  		</span></span>
<span class=line><span>COMMIT;  		</span></span>
<span class=line><span>ELSEDBMS_OUTPUT.PUT_LINE('修改雇员工资失败！');		 </span></span>
<span class=line><span>END IF; 		</span></span>
<span class=line><span>END;</span></span></code></pre></section><h3 id=3显式游标>3、显式游标</h3><p>游标的使用分成以下4个步骤。</p><h4 id=a声明游标>a．声明游标</h4><p>在DECLEAR部分按以下格式声明游标：</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>CURSOR 游标名[(参数1 数据类型[，参数2 数据类型...])]		 </span></span>
<span class=line><span>IS SELECT语句;</span></span></code></pre></section><p>参数是可选部分，所定义的参数可以出现在SELECT语句的WHERE子句中。如果定义了参数，则必须在打开游标时传递相应的实际参数。</p><h4 id=b打开游标>b.打开游标</h4><p>在可执行部分，按以下格式打开游标：</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>OPEN 游标名[(实际参数1[，实际参数2...])];</span></span></code></pre></section><p>打开游标时，SELECT语句的查询结果就被传送到了游标工作区。</p><h4 id=c提取数据>c.提取数据</h4><p>在可执行部分，按以下格式将游标工作区中的数据取到变量中。提取操作必须在打开游标之后进行。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>	FETCH 游标名 INTO 变量名1[，变量名2...];</span></span></code></pre></section><p>或</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>	FETCH 游标名 INTO 记录变量;</span></span></code></pre></section><p>游标打开后有一个指针指向数据区，FETCH语句一次返回指针所指的一行数据，要返回多行需重复执行，可以使用循环语句来实现。控制循环可以通过判断游标的属性来进行。</p><p>定义记录变量的方法如下：</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>变量名 表名|游标名%ROWTYPE；</span></span></code></pre></section><h4 id=d关闭游标>d.关闭游标</h4><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>	CLOSE 游标名;</span></span></code></pre></section><p>显式游标打开后，必须显式地关闭。游标一旦关闭，游标占用的资源就被释放，游标变成无效，必须重新打开才能使用。</p><p>【例1】 用游标提取emp表中7788雇员的名称和职务。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON	     --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>DECLARE		</span></span>
<span class=line><span>    v_ename VARCHAR2(10);	</span></span>
<span class=line><span>    v_job VARCHAR2(10);	</span></span>
<span class=line><span>    CURSOR emp_cursor IS </span></span>
<span class=line><span> SELECT ename,job FROM emp WHERE empno=7788;</span></span>
<span class=line><span>BEGIN</span></span>
<span class=line><span>    OPEN emp_cursor;</span></span>
<span class=line><span>    FETCH emp_cursor INTO v_ename,v_job;	</span></span>
<span class=line><span>    DBMS_OUTPUT.PUT_LINE(v_ename||','||v_job);</span></span>
<span class=line><span>    CLOSE emp_cursor;	</span></span>
<span class=line><span>END;</span></span></code></pre></section><p>【例2】 用游标提取emp表中7788雇员的姓名、职务和工资。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON	     --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>DECLARE	 </span></span>
<span class=line><span>	CURSOR emp_cursor IS  SELECT ename,job,sal FROM emp WHERE empno=7788;</span></span>
<span class=line><span>	emp_record emp_cursor%ROWTYPE;</span></span>
<span class=line><span>	    --用游标定义记录变量	</span></span>
<span class=line><span>BEGIN </span></span>
<span class=line><span>	OPEN emp_cursor;	</span></span>
<span class=line><span>	FETCH emp_cursor INTO emp_record;  </span></span>
<span class=line><span>	 DBMS_OUTPUT.PUT_LINE(emp_record.ename||','|| emp_record.job||','|| emp_record.sal);	</span></span>
<span class=line><span>	 CLOSE emp_cursor;	</span></span>
<span class=line><span>END;</span></span></code></pre></section><p>【例3】 显示工资最高的前3名雇员的名称和工资。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON		   --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>DECLARE	</span></span>
<span class=line><span>	 V_ename VARCHAR2(10);	</span></span>
<span class=line><span>	V_sal NUMBER(5);	</span></span>
<span class=line><span>	CURSOR emp_cursor IS  SELECT ename,sal FROM emp ORDER BY sal DESC;	</span></span>
<span class=line><span>BEGIN	</span></span>
<span class=line><span>	 OPEN emp_cursor;</span></span>
<span class=line><span>	 FOR I IN 1..3 LOOP  </span></span>
<span class=line><span>		 FETCH emp_cursor INTO v_ename,v_sal;</span></span>
<span class=line><span>		 DBMS_OUTPUT.PUT_LINE(v_ename||','||v_sal);</span></span>
<span class=line><span>  END LOOP;</span></span>
<span class=line><span>   CLOSE emp_cursor;</span></span>
<span class=line><span>END;</span></span></code></pre></section><h3 id=4游标循环重点>4、游标循环（重点）</h3><p>方法一：使用特殊的FOR循环形式显示全部雇员的编号和名称(省略掉定义记录变量、打开游标、提取数据、关闭游标)。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON     --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>DECLARE</span></span>
<span class=line><span> 	CURSOR emp_cursor IS </span></span>
<span class=line><span> SELECT empno, ename FROM emp;</span></span>
<span class=line><span>BEGIN	</span></span>
<span class=line><span>	FOR Emp_record IN emp_cursor LOOP   </span></span>
<span class=line><span>		 DBMS_OUTPUT.PUT_LINE(Emp_record.empno|| Emp_record.ename);</span></span>
<span class=line><span>	END LOOP;</span></span>
<span class=line><span>	END;</span></span></code></pre></section><p>方法二：最简单方式</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON      --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>BEGIN	 FOR re IN (SELECT ename FROM EMP)  LOOP</span></span>
<span class=line><span>		DBMS_OUTPUT.PUT_LINE(re.ename)</span></span>
<span class=line><span>	END LOOP;</span></span>
<span class=line><span>END;</span></span></code></pre></section><h3 id=5利用游标属性做循环条件>5、利用游标属性做循环条件</h3><p>【训练1】 使用游标的属性练习。</p><section class=vh-code-box><span class=vh-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>SET SERVEROUTPUT ON         --在命令行界面是必须的，在第三方工具的SQL界面中无需此语句</span></span>
<span class=line><span>DECLARE</span></span>
<span class=line><span>  V_ename VARCHAR2(10);</span></span>
<span class=line><span>  CURSOR emp_cursor IS </span></span>
<span class=line><span>  SELECT ename FROM emp;</span></span>
<span class=line><span>BEGIN	</span></span>
<span class=line><span>  OPEN emp_cursor;	 </span></span>
<span class=line><span>  IF emp_cursor%ISOPEN THEN</span></span>
<span class=line><span>  LOOP</span></span>
<span class=line><span>    FETCH emp_cursor INTO v_ename;	        </span></span>
<span class=line><span>    EXIT WHEN emp_cursor%NOTFOUND;</span></span>
<span class=line><span>    DBMS_OUTPUT.PUT_LINE(to_char(emp_cursor%ROWCOUNT)||'-'||v_ename);	        END LOOP;</span></span>
<span class=line><span>  ELSE</span></span>
<span class=line><span>    DBMS_OUTPUT.PUT_LINE('用户信息：游标没有打开！');</span></span>
<span class=line><span>  END IF;         </span></span>
<span class=line><span>  CLOSE  emp_cursor;</span></span>
<span class=line><span>END;</span></span></code></pre></section><section class=tag-list><a href=/tag/SQL><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z"></path></svg> SQL </a><a href=/tag/Oracle><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z"></path></svg> Oracle</a></section></main><footer><section class=vh-copyright><p>本文由 <span>Sky</span> 于 2017-12-05 晚上 发布</p><p>文章地址：<a href=https://xiaofangwei.cn/article/Oracle笔记——PL/SQL空值语句-游标>Oracle笔记——PL/SQL空值语句、游标</a></p><p>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0 target=_blank rel="noopener nofollow">CC BY-NC-SA 4.0</a> 许可协议。完整转载请注明来自 <a href=https://xiaofangwei.cn>Sky</a>！</p><svg viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M245.8 214.9l-33.2 17.3c-9.4-19.6-25.2-19.9-27.5-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.6 9.2 43.8 33.2 43.8 14.5 0 24.7-7.1 30.6-21.3l30.6 15.5c-6.2 11.5-25.7 39-65.1 39-22.6 0-74-10.3-74-77.1 0-58.7 43-77.1 72.6-77.1 30.7 0 52.7 12 66 35.9zm143.1 0l-32.8 17.3c-9.5-19.8-25.7-19.9-27.9-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.6 9.2 43.8 33.2 43.8 14.5 0 24.7-7.1 30.5-21.3l31 15.5c-2.1 3.8-21.4 39-65.1 39-22.7 0-74-9.9-74-77.1 0-58.7 43-77.1 72.6-77.1 30.7 0 52.6 12 65.6 35.9zM247.6 8.1C104.7 8.1 0 123.1 0 256.1c0 138.5 113.6 248 247.6 248 129.9 0 248.4-100.9 248.4-248 0-137.9-106.6-248-248.4-248zm.9 450.8c-112.5 0-203.7-93-203.7-202.8 0-105.4 85.4-203.3 203.7-203.3 112.5 0 202.8 89.5 202.8 203.3 0 121.7-99.7 202.8-202.8 202.8z"></path></svg></section></footer></article></section><aside class=vh-aside><section class="vh-aside-item user"><img alt=Sky src=/assets/images/lazy-loading.webp data-vh-lz-src=/assets/images/avatar.png class=vh-aside-avatar> <span class=vh-aside-auther>Sky</span><p class=vh-aside-motto></p><section class=vh-aside-links><a href=https://github.com/No-Sky target=_blank class=vh-aside-links-item rel="noopener nofollow" title=Github><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=3 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"/></svg> </a><a href=https://img.xiaofangwei.cnn target=_blank class=vh-aside-links-item rel="noopener nofollow" title=骤雨重山图床><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-photo"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M15 8h.01"/><path d="M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"/><path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"/><path d="M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"/></svg></a></section><section class=vh-aside-info><div class="count art-item"><span>44</span><p>文章数</p></div><div class="count cat-item"><span>5</span><p>分类数</p></div><div class="count tag-item"><span>19</span><p>标签数</p></div></section><canvas class=vh-aside-canvas height=1888 width=888></canvas></section><section class="vh-aside-item cat"><h3>分类</h3><div class=vh-aside-cat><a href=/categories/Math><span>Math</span> <i>16</i> </a><a href=/categories/SQL><span>SQL</span> <i>15</i> </a><a href=/categories/Code><span>Code</span> <i>9</i> </a><a href=/categories/Tools><span>Tools</span> <i>3</i> </a><a href=/categories/Hexo><span>Hexo</span> <i>1</i></a></div></section><section class="vh-aside-item tags"><h3>热门标签</h3><div class=vh-aside-tags><a href=/tag/SQL><span>SQL</span> <em>14</em> </a><a href=/tag/Oracle><span>Oracle</span> <em>14</em> </a><a href=/tag/Math><span>Math</span> <em>12</em> </a><a href=/tag/Tools><span>Tools</span> <em>6</em> </a><a href="/tag/Vector Algebra and Analytic Geometry"><span>Vector Algebra and Analytic Geometry</span> <em>6</em> </a><a href="/tag/Differential Equation"><span>Differential Equation</span> <em>5</em> </a><a href=/tag/Mybatis><span>Mybatis</span> <em>5</em> </a><a href=/tag/Java><span>Java</span> <em>3</em> </a><a href="/tag/Differential mean value theorem"><span>Differential mean value theorem</span> <em>2</em> </a><a href="/tag/single variable differential calculus"><span>single variable differential calculus</span> <em>1</em> </a><a href="/tag/single variable integral calculus"><span>single variable integral calculus</span> <em>1</em> </a><a href="/tag/Space Surface Equation"><span>Space Surface Equation</span> <em>1</em> </a><a href="/tag/SpringBoot Jpa"><span>SpringBoot Jpa</span> <em>1</em> </a><a href=/tag/Maven><span>Maven</span> <em>1</em> </a><a href=/tag/Sunlime-Text3><span>Sunlime-Text3</span> <em>1</em> </a><a href=/tag/Hexo><span>Hexo</span> <em>1</em> </a><a href=/tag/Git><span>Git</span> <em>1</em> </a><a href=/tag/JavaScript><span>JavaScript</span> <em>1</em> </a><a href=/tag/MySQL><span>MySQL</span> <em>1</em></a></div></section><section class=sticky-aside></section></aside></section><section class=vh-back-top><svg viewBox="0 0 24 24"><defs><linearGradient id=Gradient x1=0% x2=100% y1=0% y2=0%><stop offset=0% style=stop-color:blue;stop-opacity:1></stop><stop offset=50% style=stop-color:violet;stop-opacity:1></stop><stop offset=100% style=stop-color:indigo;stop-opacity:1></stop></linearGradient></defs><circle cx=12 cy=12 fill=none r=10 stroke=url(#Gradient) stroke-linecap=round stroke-width=2 transform="rotate(-90, 12, 12)"></circle></svg> <svg viewBox="0 0 24 24" class=icon><path d="m6 15l6-6l6 6" fill=none stroke=#000 stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></section></main><footer class=vh-footer><main><p><span><svg viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M269.4 2.9C265.2 1 260.7 0 256 0s-9.2 1-13.4 2.9L54.3 82.8c-22 9.3-38.4 31-38.3 57.2c.5 99.2 41.3 280.7 213.6 363.2c16.7 8 36.1 8 52.8 0C454.7 420.7 495.5 239.2 496 140c.1-26.2-16.3-47.9-38.3-57.2L269.4 2.9zM144 221.3c0-33.8 27.4-61.3 61.3-61.3c16.2 0 31.8 6.5 43.3 17.9l7.4 7.4 7.4-7.4c11.5-11.5 27.1-17.9 43.3-17.9c33.8 0 61.3 27.4 61.3 61.3c0 16.2-6.5 31.8-17.9 43.3l-82.7 82.7c-6.2 6.2-16.4 6.2-22.6 0l-82.7-82.7c-11.5-11.5-17.9-27.1-17.9-43.3z" fill=#fff></path></svg> <cite>稳定运行</cite> <em class=web_time></em></span></p><p><a href=https://astro.build/ target=_blank rel="noopener noreferrer"><img alt=Astro src=/assets/images/footer/astro.svg></a><a href=https://github.com/uxiaohan/vhAstro-Theme target=_blank rel="noopener noreferrer"><img alt=vhAstro-Theme src=/assets/images/footer/theme.svg> </a><a href=/rss.xml target=_blank><img alt=rss src=/assets/images/footer/rss.svg></a></p></main></footer><script src=/vh_static/Layout.astro_astro_type_script_index_0_lang.HQfQmHjI.js type=module></script></body></html>